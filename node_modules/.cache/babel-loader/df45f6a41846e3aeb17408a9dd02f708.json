{"remainingRequest":"/Users/wangze/Desktop/phone_Demos/后台管理系统/node_modules/babel-loader/lib/index.js!/Users/wangze/Desktop/phone_Demos/后台管理系统/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/wangze/Desktop/phone_Demos/后台管理系统/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/wangze/Desktop/phone_Demos/后台管理系统/src/views/login/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/wangze/Desktop/phone_Demos/后台管理系统/src/views/login/Login.vue","mtime":1600670638624},{"path":"/Users/wangze/Desktop/phone_Demos/后台管理系统/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangze/Desktop/phone_Demos/后台管理系统/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/wangze/Desktop/phone_Demos/后台管理系统/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/wangze/Desktop/phone_Demos/后台管理系统/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiTG9naW4iLAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICB2YXIgY2hlY2tVc2VyID0gZnVuY3Rpb24gY2hlY2tVc2VyKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcign55So5oi35ZCN5LiN6IO95Li656m6JykpOwogICAgICB9IGVsc2UgewogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgY2FsbGJhY2soKTsKICAgICAgICB9LCAxMDAwKTsKICAgICAgfQogICAgfTsKCiAgICB2YXIgdmFsaWRhdGVQYXNzID0gZnVuY3Rpb24gdmFsaWRhdGVQYXNzKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICcnKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCfor7fovpPlhaXlr4bnoIEnKSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2soKTsKICAgICAgfQogICAgfTsKCiAgICByZXR1cm4gewogICAgICBsb2dDbGljazogZmFsc2UsCiAgICAgIHJ1bGVGb3JtOiB7CiAgICAgICAgcGFzczogJycsCiAgICAgICAgdXNlcjogJycKICAgICAgfSwKICAgICAgcnVsZXMyOiB7CiAgICAgICAgcGFzczogW3sKICAgICAgICAgIHZhbGlkYXRvcjogdmFsaWRhdGVQYXNzLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0sCiAgICAgICAgdXNlcjogW3sKICAgICAgICAgIHZhbGlkYXRvcjogY2hlY2tVc2VyLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB2YXIgX3RoYXQgPSB0aGlzOwoKICAgICAgdmFyIGtleVN0YXRlID0gZmFsc2U7CiAgICAgIHRoaXMubG9nQ2xpY2sgPSB0cnVlOwogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAvL3ZhbGlkIHRydWUgLyBmYWxzZQogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoYXQuJGF4aW9zLmdldCgiL3VzZXJzL3NlYXJjaFVzZXIiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICBjb25zb2xlLmxvZygicmVzcG9uc2UiLCByZXNwb25zZSk7CiAgICAgICAgICAgIHZhciBkYXRhID0gcmVzcG9uc2UuZGF0YTsKCiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gZGF0YSkgewogICAgICAgICAgICAgIGlmIChfdGhhdC5ydWxlRm9ybS51c2VyID09IGRhdGFbaV0ubmFtZSkgewogICAgICAgICAgICAgICAgaWYgKF90aGF0LnJ1bGVGb3JtLnBhc3MgPT0gZGF0YVtpXS5wYXNzKSB7CiAgICAgICAgICAgICAgICAgIGtleVN0YXRlID0gIWtleVN0YXRlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGtleVN0YXRlKSB7CiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuZWxlVG9rZW4gPSByZXNwb25zZS5kYXRhOwoKICAgICAgICAgICAgICBfdGhhdC5tZXNzYWdlKCLnmbvpmYbmiJDlip8iKTsKCiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9pbmRleCIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGF0Lm1lc3NhZ2UoIueZu+mZhuS/oeaBr+acieivr++8jOivt+mHjeaWsOi+k+WFpe+8gSIpOwoKICAgICAgICAgICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGF0Lm1lc3NhZ2UoIuaPkOS6pOWksei0pe+8gSIpOwoKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIubG9nQ2xpY2sgPSBmYWxzZTsKICAgICAgfSwgMjAwMCk7CiAgICB9LAogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiByZXNldEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdGhpcy5tZXNzYWdlKCLph43nva7miJDlip/vvIEiKTsKICAgICAgdGhpcy4kcmVmc1tmb3JtTmFtZV0ucmVzZXRGaWVsZHMoKTsKICAgIH0sCiAgICByZWdpc3RlckZvcm06IGZ1bmN0aW9uIHJlZ2lzdGVyRm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJGF4aW9zLnBvc3QoIi91c2Vycy9hZGRVc2VyIiwgdGhpcy5ydWxlRm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpcy5tZXNzYWdlKCLms6jlhozmiJDlip/vvIEiKTsKCiAgICAgICAgY29uc29sZS5sb2coIuazqOWGjO+8miIsIHJlc3BvbnNlKTsKICAgICAgfSk7CiAgICB9LAogICAgbWVzc2FnZTogZnVuY3Rpb24gbWVzc2FnZShtc2cpIHsKICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgbWVzc2FnZTogbXNnLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,QAAA,SAAA,GAAA,SAAA,SAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,CAAA,KAAA,EAAA;AACA,eAAA,QAAA,CAAA,IAAA,KAAA,CAAA,SAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,QAAA;AACA,SAFA,EAEA,IAFA,CAAA;AAGA;AACA,KARA;;AASA,QAAA,YAAA,GAAA,SAAA,YAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA,OAFA,MAEA;AACA,QAAA,QAAA;AACA;AACA,KANA;;AAOA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA;AACA,QAAA,IAAA,EAAA,EADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAFA;AAMA,MAAA,MAAA,EAAA;AACA,QAAA,IAAA,EAAA,CAAA;AACA,UAAA,SAAA,EAAA,YADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA,CADA;AAKA,QAAA,IAAA,EAAA,CAAA;AACA,UAAA,SAAA,EAAA,SADA;AAEA,UAAA,OAAA,EAAA;AAFA,SAAA;AALA;AANA,KAAA;AAiBA,GApCA;AAqCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,QADA,EACA;AAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,UAAA,QAAA,GAAA,KAAA;AACA,WAAA,QAAA,GAAA,IAAA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA;AACA,YAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,mBAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,UAAA,EAAA,QAAA;AACA,gBAAA,IAAA,GAAA,QAAA,CAAA,IAAA;;AACA,iBAAA,IAAA,CAAA,IAAA,IAAA,EAAA;AACA,kBAAA,KAAA,CAAA,QAAA,CAAA,IAAA,IAAA,IAAA,CAAA,CAAA,CAAA,CAAA,IAAA,EAAA;AACA,oBAAA,KAAA,CAAA,QAAA,CAAA,IAAA,IAAA,IAAA,CAAA,CAAA,CAAA,CAAA,IAAA,EAAA;AACA,kBAAA,QAAA,GAAA,CAAA,QAAA;AACA;AACA;AACA;;AACA,gBAAA,QAAA,EAAA;AACA,cAAA,cAAA,CAAA,QAAA,GAAA,QAAA,CAAA,IAAA;;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,MAAA;;AACA,mBAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,aAJA,MAIA;AACA,cAAA,KAAA,CAAA,OAAA,CAAA,eAAA;;AACA,mBAAA,KAAA,CAAA,QAAA,EAAA,WAAA;AACA;AACA;AACA,WApBA;AAqBA,SAtBA,MAsBA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,OAAA;;AACA,iBAAA,KAAA;AACA;AACA,OA5BA;AA6BA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,MAAA,CAAA,QAAA,GAAA,KAAA;AACA,OAFA,EAEA,IAFA,CAAA;AAGA,KArCA;AAsCA,IAAA,SAtCA,qBAsCA,QAtCA,EAsCA;AACA,WAAA,OAAA,CAAA,OAAA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,WAAA;AACA,KAzCA;AA0CA,IAAA,YA1CA,0BA0CA;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,WAAA,MAAA,CAAA,IAAA,CAAA,gBAAA,EAAA,KAAA,QAAA,EACA,IADA,CACA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,OAAA,CAAA,OAAA;;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,KAAA,EAAA,QAAA;AACA,OAJA;AAKA,KAjDA;AAkDA,IAAA,OAlDA,mBAkDA,GAlDA,EAkDA;AACA,WAAA,QAAA,CAAA;AACA,QAAA,OAAA,EAAA,GADA;AAEA,QAAA,IAAA,EAAA;AAFA,OAAA;AAIA;AAvDA;AArCA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"login posa\">\r\n\t\t<div class=\"login_box\">\r\n\t\t\t<el-form :model=\"ruleForm\" status-icon :rules=\"rules2\" ref=\"ruleForm\" label-width=\"100px\" class=\"demo-ruleForm\">\r\n\t\t\t\t<el-form-item label=\"用户名:\" prop=\"user\">\r\n\t\t\t\t\t<el-input type=\"text\" v-model.trim=\"ruleForm.user\" auto-complete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item label=\"密码:\" prop=\"pass\">\r\n\t\t\t\t\t<el-input type=\"password\" v-model.trim=\"ruleForm.pass\" auto-complete=\"off\"></el-input>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t\t<el-form-item>\r\n\t\t\t\t\t<el-button type=\"primary\" @click=\"submitForm('ruleForm')\" :disabled=\"logClick\">登陆</el-button>\r\n\t\t\t\t\t<el-button @click=\"resetForm('ruleForm')\">重置</el-button>\r\n\t\t\t\t\t<el-button @click=\"registerForm('ruleForm')\" style=\"display: none;\">注册</el-button>\r\n\t\t\t\t</el-form-item>\r\n\t\t\t</el-form>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\texport default {\r\n\t\tname: \"Login\",\r\n\t\tdata() {\r\n\t\t\tvar checkUser = (rule, value, callback) => {\r\n\t\t\t\tif (!value) {\r\n\t\t\t\t\treturn callback(new Error('用户名不能为空'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t}, 1000);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tvar validatePass = (rule, value, callback) => {\r\n\t\t\t\tif (value === '') {\r\n\t\t\t\t\tcallback(new Error('请输入密码'));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcallback();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\treturn {\r\n\t\t\t\tlogClick: false,\r\n\t\t\t\truleForm: {\r\n\t\t\t\t\tpass: '',\r\n\t\t\t\t\tuser: ''\r\n\t\t\t\t},\r\n\t\t\t\trules2: {\r\n\t\t\t\t\tpass: [{\r\n\t\t\t\t\t\tvalidator: validatePass,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}],\r\n\t\t\t\t\tuser: [{\r\n\t\t\t\t\t\tvalidator: checkUser,\r\n\t\t\t\t\t\ttrigger: 'blur'\r\n\t\t\t\t\t}]\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tsubmitForm(formName) {\r\n\t\t\t\tlet _that = this;\r\n\t\t\t\tlet keyState = false;\r\n\t\t\t\tthis.logClick = true;\r\n\t\t\t\tthis.$refs[formName].validate((valid) => {\r\n\t\t\t\t\t//valid true / false\r\n\t\t\t\t\tif (valid) {\r\n\t\t\t\t\t\t_that.$axios.get(\"/users/searchUser\")\r\n\t\t\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t\t\tconsole.log(\"response\", response);\r\n\t\t\t\t\t\t\t\tlet data = response.data;\r\n\t\t\t\t\t\t\t\tfor (let i in data) {\r\n\t\t\t\t\t\t\t\t\tif (_that.ruleForm.user == data[i].name) {\r\n\t\t\t\t\t\t\t\t\t\tif (_that.ruleForm.pass == data[i].pass) {\r\n\t\t\t\t\t\t\t\t\t\t\tkeyState = !keyState;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif (keyState) {\r\n\t\t\t\t\t\t\t\t\tsessionStorage.eleToken = response.data;\r\n\t\t\t\t\t\t\t\t\t_that.message(\"登陆成功\");\r\n\t\t\t\t\t\t\t\t\tthis.$router.push(\"/index\");\r\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t_that.message(\"登陆信息有误，请重新输入！\");\n\t\t\t\t\t\t\t\t\tthis.$refs[formName].resetFields();\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t_that.message(\"提交失败！\")\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.logClick = false;\r\n\t\t\t\t}, 2000);\r\n\t\t\t},\r\n\t\t\tresetForm(formName) {\r\n\t\t\t\tthis.message(\"重置成功！\")\r\n\t\t\t\tthis.$refs[formName].resetFields();\r\n\t\t\t},\r\n\t\t\tregisterForm() {\r\n\t\t\t\tconst _this = this;\r\n\t\t\t\tthis.$axios.post(\"/users/addUser\", this.ruleForm)\r\n\t\t\t\t\t.then(function(response) {\r\n\t\t\t\t\t\t_this.message(\"注册成功！\")\r\n\t\t\t\t\t\tconsole.log(\"注册：\", response);\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tmessage(msg) {\r\n\t\t\t\tthis.$message({\r\n\t\t\t\t\tmessage: msg,\r\n\t\t\t\t\ttype: 'warning'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.login {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground-color: #2c3e50ac;\r\n\t\tbackground-image: url(../../../public/images/rain.gif);\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-size: cover;\r\n\t\tz-index: 100;\r\n\t}\r\n\r\n\t.login_box {\r\n\t\twidth: 400px;\r\n\t\theight: 200px;\r\n\t\tposition: absolute;\r\n\t\tleft: 50%;\r\n\t\ttop: 50%;\r\n\t\tpadding: 20px;\r\n\t\ttransform: translate(-50%, -50%);\r\n\t\tborder-radius: 4px;\r\n\t\tbox-shadow: 0 4px 10px 4px #000000;\r\n\t\tbackground-color: rgba(12, 12, 12, .8);\r\n\t}\r\n\r\n\t.el-form-item__label {\r\n\t\tcolor: #FFFFFF;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/views/login"}]}